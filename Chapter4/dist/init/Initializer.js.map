{"version":3,"sources":["../../init/Initializer.js"],"names":["exports","InitMongoDB","env","mongoose","VCAP_SERVICES","connectURL","options","connectTimeoutMS","keepAlive","ha","autoReconnect","reconnectTries","connect","db","connection","on","console","log"],"mappings":"AAAA;;;;;AAKA;;AAEAA,QAAQC,WAAR,GAAsB,UAACC,GAAD,EAAKC,QAAL,EAAgB;AACpC,MAAGD,IAAIE,aAAP,EAAqB;AACnB;;;;;AAKA,QAAMC,aAAa,+DAAnB;AACA,QAAMC,UAAU;AACdC,wBAAkB,IADJ;AAEdC,iBAAU,IAFI;AAGdC,UAAG,IAHW;AAIdC,qBAAc,IAJA;AAKdC,sBAAe;AALD,KAAhB;AAOAR,aAASS,OAAT,CAAiBP,UAAjB,EAA4BC,OAA5B;AACA,QAAMO,KAAKV,SAASW,UAApB;AACAD,OAAGE,EAAH,CAAM,MAAN,EAAa,YAAI;AACfC,cAAQC,GAAR,CAAY,WAAZ;AACD,KAFD;AAGD,GAnBD,MAmBK;AACH;;;;;AAKA,QAAMZ,cAAa,+DAAnB;AACA,QAAMC,WAAU;AACdC,wBAAkB,IADJ;AAEdC,iBAAU,IAFI;AAGdC,UAAG,IAHW;AAIdC,qBAAc,IAJA;AAKdC,sBAAe;AALD,KAAhB;AAOAR,aAASS,OAAT,CAAiBP,WAAjB,EAA4BC,QAA5B;AACA,QAAMO,MAAKV,SAASW,UAApB;AACAD,QAAGE,EAAH,CAAM,MAAN,EAAa,YAAI;AACfC,cAAQC,GAAR,CAAY,WAAZ;AACD,KAFD;AAGD;AACF,CAxCD","file":"Initializer.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 7. 9.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nexports.InitMongoDB = (env,mongoose)=>{\n  if(env.VCAP_SERVICES){\n    /**\n     * Cloud환경\n     *\n     * https://console.bluemix.net/docs/cli/index.html#overview\n     */\n    const connectURL = 'mongodb://admin:admin123@ds129811.mlab.com:29811/firstexample';\n    const options = {\n      connectTimeoutMS: 4000,\n      keepAlive:true,\n      ha:true,\n      autoReconnect:true,\n      reconnectTries:30\n    };\n    mongoose.connect(connectURL,options);\n    const db = mongoose.connection;\n    db.on('open',()=>{\n      console.log('connected');\n    });\n  }else{\n    /**\n     * Local\n     *\n     mongodb://<dbuser>:<dbpassword>@ds129811.mlab.com:29811/firstexample\n     */\n    const connectURL = 'mongodb://admin:admin123@ds129811.mlab.com:29811/firstexample';\n    const options = {\n      connectTimeoutMS: 4000,\n      keepAlive:true,\n      ha:true,\n      autoReconnect:true,\n      reconnectTries:30\n    };\n    mongoose.connect(connectURL,options);\n    const db = mongoose.connection;\n    db.on('open',()=>{\n      console.log('connected');\n    });\n  }\n};"]}