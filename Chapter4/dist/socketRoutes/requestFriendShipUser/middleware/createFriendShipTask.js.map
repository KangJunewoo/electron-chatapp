{"version":3,"sources":["../../../../socketRoutes/requestFriendShipUser/middleware/createFriendShipTask.js"],"names":["module","exports","result","Promise","resolve","reject","friend","Error","friendReceiveRequests","push","User","_id","friendRequests","updateTasks","save"],"mappings":"AAAA;;;;;AAKA;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,MAAD,EAAU;AACzB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AACnC,QAAG,CAACH,OAAOI,MAAX,EAAkB;AAChB,aAAOD,OAAO,IAAIE,KAAJ,CAAU,gBAAV,CAAP,CAAP;AACD;AACDL,WAAOI,MAAP,CAAcE,qBAAd,CAAoCC,IAApC,CAAyCP,OAAOQ,IAAP,CAAYC,GAArD;AACAT,WAAOQ,IAAP,CAAYE,cAAZ,CAA2BH,IAA3B,CAAgCP,OAAOI,MAAP,CAAcK,GAA9C;AACAT,WAAOW,WAAP,CAAmBJ,IAAnB,CAAwBP,OAAOI,MAAP,CAAcQ,IAAd,EAAxB;AACAZ,WAAOW,WAAP,CAAmBJ,IAAnB,CAAwBP,OAAOQ,IAAP,CAAYI,IAAZ,EAAxB;AACA,WAAOV,QAAQF,MAAR,CAAP;AACD,GATM,CAAP;AAUD,CAXD","file":"createFriendShipTask.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 9. 19.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nmodule.exports = (result)=>{\n  return new Promise((resolve,reject)=>{\n    if(!result.friend){\n      return reject(new Error('User Not Found'));\n    }\n    result.friend.friendReceiveRequests.push(result.User._id);\n    result.User.friendRequests.push(result.friend._id);\n    result.updateTasks.push(result.friend.save());\n    result.updateTasks.push(result.User.save());\n    return resolve(result);\n  })\n};"]}