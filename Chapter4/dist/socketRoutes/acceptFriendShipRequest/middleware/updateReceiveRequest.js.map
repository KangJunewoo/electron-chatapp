{"version":3,"sources":["../../../../socketRoutes/acceptFriendShipRequest/middleware/updateReceiveRequest.js"],"names":["module","exports","decodedUser","message","User","require","query","_id","update","$pull","friendReceiveRequests","$push","friends","options","new","findOneAndUpdate","exec"],"mappings":"AAAA;;;;;AAKA;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,WAAD,EAAaC,OAAb,EAAuB;AACtC,MAAMC,OAAOC,QAAQ,qBAAR,CAAb;;AAEA,MAAMC,QAAQ;AACZC,SAAIL,YAAYK;AADJ,GAAd;AAGA,MAAMC,SAAS;AACbC,WAAM;AACJC,6BAAsBP,QAAQI;AAD1B,KADO;AAIbI,WAAM;AACJC,eAAQT,QAAQI;AADZ;AAJO,GAAf;AAQA,MAAMM,UAAU;AACdC,SAAM;AADQ,GAAhB;AAGA,SAAOV,KAAKW,gBAAL,CAAsBT,KAAtB,EAA4BE,MAA5B,EAAmCK,OAAnC,EAA4CG,IAA5C,EAAP;AACD,CAlBD","file":"updateReceiveRequest.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 9. 19.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nmodule.exports = (decodedUser,message)=>{\n  const User = require('../../../model/User');\n\n  const query = {\n    _id:decodedUser._id\n  };\n  const update = {\n    $pull:{\n      friendReceiveRequests:message._id\n    },\n    $push:{\n      friends:message._id\n    }\n  };\n  const options = {\n    new : true\n  };\n  return User.findOneAndUpdate(query,update,options).exec();\n};"]}