{"version":3,"sources":["../../../../socketRoutes/acceptFriendShipRequest/middleware/updateFriendRequest.js"],"names":["module","exports","updatedUser","message","User","require","query","_id","update","$pull","friendRequests","$push","friends","options","new","findOneAndUpdate","exec"],"mappings":"AAAA;;;;;AAKA;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,WAAD,EAAaC,OAAb,EAAuB;AACtC,MAAMC,OAAOC,QAAQ,qBAAR,CAAb;AACA,MAAMC,QAAQ;AACZC,SAAIJ,QAAQI;AADA,GAAd;AAGA,MAAMC,SAAS;AACbC,WAAM;AACJC,sBAAeR,YAAYK;AADvB,KADO;AAIbI,WAAM;AACJC,eAAQV,YAAYK;AADhB;AAJO,GAAf;AAQA,MAAMM,UAAU;AACdC,SAAM;AADQ,GAAhB;AAGA,SAAOV,KAAKW,gBAAL,CAAsBT,KAAtB,EAA4BE,MAA5B,EAAmCK,OAAnC,EAA4CG,IAA5C,EAAP;AACD,CAjBD","file":"updateFriendRequest.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 9. 19.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nmodule.exports = (updatedUser,message)=>{\n  const User = require('../../../model/User');\n  const query = {\n    _id:message._id\n  };\n  const update = {\n    $pull:{\n      friendRequests:updatedUser._id\n    },\n    $push:{\n      friends:updatedUser._id\n    }\n  };\n  const options = {\n    new : true\n  };\n  return User.findOneAndUpdate(query,update,options).exec();\n};"]}