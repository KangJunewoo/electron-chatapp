{"version":3,"sources":["../../../socketRoutes/functions/SetSocketId.js"],"names":["module","exports","socket","User","require","update","$set","socketId","id","options","new","findOneAndUpdate","handshake","query","populate"],"mappings":"AAAA;;;;;AAKA;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,MAAD,EAAU;AACzB,MAAMC,OAAOC,QAAQ,kBAAR,CAAb;AACA,MAAMC,SAAS;AACbC,UAAK;AACHC,gBAASL,OAAOM;AADb;AADQ,GAAf;AAKA,MAAMC,UAAU;AACdC,SAAI;AADU,GAAhB;AAGA,SAAOP,KAAKQ,gBAAL,CAAsB,EAACH,IAAGN,OAAOU,SAAP,CAAiBC,KAAjB,CAAuBL,EAA3B,EAAtB,EAAqDH,MAArD,EAA4DI,OAA5D,EAAqEK,QAArE,CAA8E,OAA9E,CAAP;AACD,CAXD","file":"SetSocketId.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 9. 18.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nmodule.exports = (socket)=>{\n  const User = require('../../model/User');\n  const update = {\n    $set:{\n      socketId:socket.id\n    }\n  };\n  const options = {\n    new:true\n  };\n  return User.findOneAndUpdate({id:socket.handshake.query.id},update,options).populate('rooms');\n};"]}