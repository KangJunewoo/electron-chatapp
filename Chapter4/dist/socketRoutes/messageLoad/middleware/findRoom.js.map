{"version":3,"sources":["../../../../socketRoutes/messageLoad/middleware/findRoom.js"],"names":["module","exports","message","Room","require","findOne","_id","populate","path","model"],"mappings":"AAAA;;;;;AAKA;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,OAAD,EAAW;AAC1B,MAAMC,OAAOC,QAAQ,qBAAR,CAAb;AACA,SAAOD,KAAKE,OAAL,CAAa,EAACC,KAAIJ,QAAQI,GAAb,EAAb,EACJC,QADI,CACK;AACRC,UAAK,UADG;AAERD,cAAS;AACPC,YAAK,QADE;AAEPC,aAAM;AAFC;AAFD,GADL,CAAP;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAhCD","file":"findRoom.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 9. 19.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nmodule.exports = (message)=>{\n  const Room = require('../../../model/Room');\n  return Room.findOne({_id:message._id})\n    .populate({\n      path:'messages',\n      populate:{\n        path:'sender',\n        model:'User'\n      }\n    })\n  // return Room.findOne({_id:message._id})\n  //   .populate({\n  //     path:'messages',\n  //     populate:{\n  //       path:'sender',\n  //       model:'User'\n  //     }\n  //   })\n  //\n  // return Room.findOne({_id:message._id})\n  //   .populate({\n  //     path:'messages',\n  //     options: {\n  //       sort: 'CreatedAt'\n  //     },\n  //     populate:{\n  //       path:'sender',\n  //       model:'User'\n  //     }\n  //   })\n  //   .where('messages')\n  //   .slice(start,count)\n};"]}