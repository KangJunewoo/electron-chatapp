{"version":3,"sources":["../../webScripts/main.js"],"names":["electron","require","ipcRenderer","SocketEvent","DialogFactory","RoomMenuArea","RoomArea","ChatArea","MainEvent","dialogFactory","document","roomMenuArea","roomArea","chatArea","locale","undefined","successString","failureString","send","roomListSearch","getProfile","on","event","message","console","log","result","forEach","room","RoomList","addItem","alert","setSelectListener","viewAnimation","Promise","resolve","reject","setCurrentItem","target","messageLoad","MessageList","clearItems","_id","id","notReload","error","then","catch","currentRoom","getCurrentItem","loadItem","sortList","items","childNodes","FailureClearItem","setScrollListener","e","tokenRefreshing","getDialog","show","Profile","setName","name","ItemFactory","setLocale","HELLO","confirmButton","setEventListener","userId","getUserId","targetRoom","InviteUser","roomId","cancelButton","leaveRoom","removeItem","clearCurrentItem","roomName","CloseButton","requestFrienShipUser","searchUserButton","play","searchUser","setSearchResult","finish","defaultValue","dismiss","tagName","parentNode","excuteLoader","removeFriendShipRequest","searchFriend","friends","item","value","acceptFriendShipRequest","denyFriendShipRequest","searchFriendRequest","removeAllItem","openDialog","createRoom","getRoomName","bind","MenuList","FriendMenuButton","CreateRoomButton","MessageInputview","setSendEventListener","getMessage","sender","getName","clearMessage","messageSend","changeSuccessStatus","changeFailureStatus","retry","receiveMessage","NotificationList","createNotification","updateList","textArea","addEventListener","keyDownEventHandler","receiveInviteUser","joinRoomRequest","createRoomNotification"],"mappings":"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","file":"main.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 7. 4.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\n(()=>{\n  const electron = require('electron');\n  const ipcRenderer = electron.ipcRenderer;\n  const SocketEvent = require('././handler_manager/event/SocketEvent');\n  const DialogFactory = require('././webScripts/DialogFactory');\n  const RoomMenuArea = require('././webScripts/RoomMenuArea');\n  const RoomArea = require('././webScripts/RoomArea');\n  const ChatArea = require('././webScripts/ChatArea');\n  const MainEvent = require('././mainProcess/MainEvent');\n  const dialogFactory = new DialogFactory(document);\n  const roomMenuArea = new RoomMenuArea(document);\n  const roomArea = new RoomArea(document);\n  const chatArea = new ChatArea(document);\n  let locale = undefined;\n  const successString = '-Success';\n  const failureString = '-Failure';\n  ipcRenderer.send(MainEvent.roomListSearch,{});\n  ipcRenderer.send(MainEvent.getProfile,{});\n\n  ipcRenderer.on(MainEvent.roomListSearch+successString,(event,message)=>{\n    console.log(message);\n    message.result.forEach((room)=>{\n      roomArea.RoomList.addItem(room);\n    });\n  });\n  ipcRenderer.on(MainEvent.roomListSearch+failureString,(event,message)=>{\n    alert('방리스트 조회 실패 cmd + r로 다시 시도하세요.');\n  });\n  roomArea.RoomList.setSelectListener((event)=>{\n    const viewAnimation =()=>{\n      return new Promise((resolve,reject)=>{\n        roomArea.RoomList.setCurrentItem(event.target)===true?resolve():reject();\n      })\n    };\n    const messageLoad = ()=>{\n      chatArea.MessageList.clearItems();\n      ipcRenderer.send(MainEvent.messageLoad,{_id:event.target.id});\n    };\n    const notReload = (error)=>{\n      console.log(error);\n    };\n    viewAnimation()\n      .then(messageLoad)\n      .catch(notReload);\n  });\n  ipcRenderer.on(MainEvent.messageLoad+successString,(event,message)=>{\n    console.log(message);\n    chatArea.MessageList.clearItems()\n      .then(()=>{\n        const currentRoom = roomArea.RoomList.getCurrentItem();\n        if(!currentRoom){\n          return;\n        }\n        if(!currentRoom.id){\n          return;\n        }\n        if(currentRoom.id === message._id){\n          message.result.forEach((message)=>{\n            chatArea.MessageList.loadItem(message);\n          });\n          chatArea.MessageList.sortList(chatArea.MessageList.items.childNodes);\n        }\n      })\n  });\n  ipcRenderer.on(MainEvent.messageLoad+failureString,(event,message)=>{\n    console.log(message);\n    roomArea.RoomList.FailureClearItem(message._id);\n    alert('메시지로드에 실패하셨습니다');\n  });\n  chatArea.MessageList.setScrollListener((e)=>{\n    console.log(e);\n  });\n\n  ipcRenderer.on(MainEvent.tokenRefreshing,(event)=>{\n    dialogFactory.getDialog('refreshTokenDialog').show();\n  });\n  ipcRenderer.on(MainEvent.tokenRefreshing+successString,(event)=>{\n    dialogFactory.getDialog('refreshTokenDialog').show();\n  });\n  ipcRenderer.on(MainEvent.tokenRefreshing+failureString,(event)=>{\n    dialogFactory.getDialog('refreshTokenDialog').show();\n  });\n  ipcRenderer.on(MainEvent.getProfile,(event,message)=>{\n    roomArea.Profile.setName(message.name);\n    locale = message.locale;\n    chatArea.MessageList.ItemFactory.setLocale(locale);\n  });\n  ipcRenderer.on(SocketEvent.HELLO,(event,message)=>{\n    console.log(message);\n  });\n  dialogFactory.getDialog('inviteRoomDialog').confirmButton.setEventListener(()=>{\n    const userId = dialogFactory.getDialog('inviteRoomDialog').getUserId();\n    const targetRoom = roomArea.RoomList.getCurrentItem().id;\n    ipcRenderer.send(MainEvent.InviteUser,{id:userId,roomId:targetRoom});\n  });\n  ipcRenderer.on(MainEvent.InviteUser+successString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('inviteRoomDialog').show();\n    alert(`${message.result[0].id} 초대 성공`);\n\n  });\n  ipcRenderer.on(MainEvent.InviteUser+failureString,(event,message)=>{\n    console.log(message);\n    alert(`초대 실패`);\n  });\n\n  dialogFactory.getDialog('inviteRoomDialog').cancelButton.setEventListener(()=>{\n    dialogFactory.getDialog('inviteRoomDialog').show();\n  });\n  dialogFactory.getDialog('leaveRoomDialog').confirmButton.setEventListener(()=>{\n    const currentRoom = roomArea.RoomList.getCurrentItem();\n    ipcRenderer.send(MainEvent.leaveRoom,{_id:currentRoom.id});\n\n    chatArea.MessageList.clearItems();\n    dialogFactory.getDialog('leaveRoomDialog').show();\n  });\n  ipcRenderer.on(MainEvent.leaveRoom+successString,(event,message)=>{\n    console.log(message);\n    const currentRoom = roomArea.RoomList.getCurrentItem();\n    roomArea.RoomList.removeItem(currentRoom);\n    roomArea.RoomList.clearCurrentItem();\n    alert(message.result.room.roomName+\"나가기 성공\");\n  });\n  ipcRenderer.on(MainEvent.leaveRoom+failureString,(event,message)=>{\n    alert(\"나가기 실패\");\n  });\n  dialogFactory.getDialog('leaveRoomDialog').cancelButton.setEventListener(()=>{\n    dialogFactory.getDialog('leaveRoomDialog').show();\n  });\n  dialogFactory.getDialog('friendMenuDialog').CloseButton.setEventListener(()=>{\n    dialogFactory.getDialog('friendMenuDialog').show();\n  });\n  dialogFactory.getDialog('addFriendDialog').confirmButton.setEventListener(()=>{\n    const userId = dialogFactory.getDialog('addFriendDialog').getUserId();\n    const message = {\n      id:userId\n    };\n    ipcRenderer.send(MainEvent.requestFrienShipUser,message);\n\n  });\n  ipcRenderer.on(MainEvent.requestFrienShipUser+successString,(event,message)=>{\n    dialogFactory.getDialog('addFriendDialog').show();\n    alert(`${message.id} 에게 친구 신청 성공`);\n  });\n  ipcRenderer.on(MainEvent.requestFrienShipUser+failureString,(event,message)=>{\n    alert(`친구 신청 실패`);\n  });\n  dialogFactory.getDialog('addFriendDialog').searchUserButton.setEventListener(()=>{\n    const userId = dialogFactory.getDialog('addFriendDialog').getUserId();\n    const message = {\n      id:userId\n    };\n    dialogFactory.getDialog('addFriendDialog').play();\n    ipcRenderer.send(MainEvent.searchUser,message);\n  });\n  ipcRenderer.on(MainEvent.searchUser+successString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('addFriendDialog').setSearchResult(message.id);\n    dialogFactory.getDialog('addFriendDialog').finish();\n  });\n  ipcRenderer.on(MainEvent.searchUser+failureString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('addFriendDialog').setSearchResult(dialogFactory.getDialog('addFriendDialog').defaultValue);\n    dialogFactory.getDialog('addFriendDialog').finish();\n  });\n  dialogFactory.getDialog('addFriendDialog').cancelButton.setEventListener(()=>{\n    dialogFactory.getDialog('addFriendDialog').show();\n  });\n  dialogFactory.getDialog('listFriendDialog').CloseButton.setEventListener(()=>{\n    dialogFactory.getDialog('listFriendDialog').dismiss();\n  });\n  dialogFactory.getDialog('listFriendDialog').setSelectListener((event)=>{\n    if(event.target.tagName === 'BUTTON'){\n      const message = {\n        _id:event.target.parentNode.id\n      };\n      dialogFactory.getDialog('listFriendDialog').excuteLoader(message._id)\n        .then(()=>{\n          ipcRenderer.send(MainEvent.removeFriendShipRequest,message);\n        })\n        .catch((error)=>{\n          console.log(error);\n        })\n    }\n  });\n  ipcRenderer.on(MainEvent.removeFriendShipRequest+successString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('listFriendDialog').removeItem(message._id);\n\n  });\n  ipcRenderer.on(MainEvent.removeFriendShipRequest+failureString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('listFriendDialog').excuteLoader(message._id);\n    alert('친구 삭제 실패');\n  });\n  ipcRenderer.on(MainEvent.searchFriend+successString,(event,message)=>{\n    console.log(message);\n    message.result.friends.forEach((item)=>{\n      dialogFactory.getDialog('listFriendDialog').addItem(item);\n    });\n  });\n  ipcRenderer.on(MainEvent.searchFriend+failureString,(event,message)=>{\n    console.log(message);\n    alert('친구리스트 조회 실패');\n  });\n  dialogFactory.getDialog('listFriendRequestDialog').CloseButton.setEventListener(()=>{\n    dialogFactory.getDialog('listFriendRequestDialog').dismiss();\n  });\n  dialogFactory.getDialog('listFriendRequestDialog').setSelectListener((event)=>{\n    if(event.target.tagName === 'BUTTON'){\n      const message = {\n        _id:event.target.parentNode.id\n      };\n      dialogFactory.getDialog('listFriendRequestDialog').excuteLoader(message._id)\n        .then(()=>{\n          event.target.value==='1'?ipcRenderer.send(MainEvent.acceptFriendShipRequest,message):ipcRenderer.send(MainEvent.denyFriendShipRequest,message);\n        })\n        .catch((error)=>{\n          console.log(error);\n        })\n    }\n  });\n  ipcRenderer.on(MainEvent.acceptFriendShipRequest+successString,(event,message)=>{\n    dialogFactory.getDialog('listFriendRequestDialog').removeItem(message._id);\n    alert(`친구 수락 성공`);\n  });\n  ipcRenderer.on(MainEvent.acceptFriendShipRequest+failureString,(event,message)=>{\n    alert(`친구 수락 실패`);\n  });\n  ipcRenderer.on(MainEvent.denyFriendShipRequest+successString,(event,message)=>{\n    dialogFactory.getDialog('listFriendRequestDialog').removeItem(message._id);\n    alert(`친구 거절 성공`);\n  });\n  ipcRenderer.on(MainEvent.denyFriendShipRequest+failureString,(event,message)=>{\n    alert(`친구 거절 실패`);\n  });\n  ipcRenderer.on(MainEvent.searchFriendRequest+successString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('listFriendRequestDialog').removeAllItem()\n      .then(()=>{\n        message.result.forEach((item)=>{\n          dialogFactory.getDialog('listFriendRequestDialog').addItem(item);\n        });\n      })\n      .catch((error)=>{\n        console.log(error);\n      });\n  });\n  ipcRenderer.on(MainEvent.searchFriendRequest+failureString,(event,message)=>{\n    console.log(message);\n    dialogFactory.getDialog('listFriendRequestDialog').removeAllItem();\n    alert('친구요청 리스트 조회 실패');\n  });\n  dialogFactory.getDialog('friendMenuDialog').setSelectListener(()=>{\n    if(event.target.tagName === 'LI'){\n      if(event.target.id === 'addFriend'){\n        dialogFactory.getDialog('friendMenuDialog').openDialog(dialogFactory.getDialog('addFriendDialog'),ipcRenderer);\n      }else if(event.target.id === 'showFriends'){\n        dialogFactory.getDialog('friendMenuDialog').openDialog(dialogFactory.getDialog('listFriendDialog'),ipcRenderer);\n      }else{\n        dialogFactory.getDialog('friendMenuDialog').openDialog(dialogFactory.getDialog('listFriendRequestDialog'),ipcRenderer);\n      }\n    }\n  });\n  dialogFactory.getDialog('createRoomDialog').confirmButton.setEventListener(()=>{\n    ipcRenderer.send(MainEvent.createRoom,{roomName:dialogFactory.getDialog('createRoomDialog').getRoomName()});\n  });\n  ipcRenderer.on(MainEvent.createRoom+successString,(event,message)=>{\n    console.log(message);\n\n    roomArea.RoomList.addItem(message.result.room)\n      .then(roomArea.RoomList.setCurrentItem.bind(roomArea.RoomList))\n      .then(chatArea.MessageList.clearItems.bind(chatArea.MessageList))\n      .then(dialogFactory.getDialog('createRoomDialog').show.bind(dialogFactory.getDialog('createRoomDialog')))\n      .catch((error)=>{\n        console.log(error);\n      });\n  });\n  ipcRenderer.on(MainEvent.createRoom+failureString,(event,message)=>{\n    console.log(message);\n  });\n  dialogFactory.getDialog('createRoomDialog').cancelButton.setEventListener(()=>{\n    dialogFactory.getDialog('createRoomDialog').show();\n  });\n  roomMenuArea.MenuList.setSelectListener(()=>{\n    if(event.target.tagName === 'DIV'){\n      if(event.target.id==='inviteRoomButton'){\n        dialogFactory.getDialog('inviteRoomDialog').show();\n      }else{\n        dialogFactory.getDialog('leaveRoomDialog').show();\n      }\n    }\n  });\n  roomArea.FriendMenuButton.setEventListener(()=>{\n    dialogFactory.getDialog('friendMenuDialog').show();\n  });\n  roomArea.CreateRoomButton.setEventListener(()=>{\n    dialogFactory.getDialog('createRoomDialog').show();\n  });\n\n  chatArea.MessageInputview.setSendEventListener(()=>{\n    const currentRoom = roomArea.RoomList.getCurrentItem();\n    if(!currentRoom)return;\n    const message = {\n      room:currentRoom.id,\n      message:chatArea.MessageInputview.getMessage(),\n      sender:{\n        id:roomArea.Profile.getName()\n      }\n    };\n    const item = chatArea.MessageList.addItem(message);\n    chatArea.MessageInputview.clearMessage();\n    message.item = item;\n    ipcRenderer.send(MainEvent.messageSend,message);\n  });\n  ipcRenderer.on(MainEvent.messageSend+successString,(event,message)=>{\n    console.log(message);\n    chatArea.MessageList.changeSuccessStatus(message);\n  });\n  ipcRenderer.on(MainEvent.messageSend+failureString,(event,message)=>{\n    console.log(message);\n    chatArea.MessageList.changeFailureStatus(message,()=>{\n      message.retry = true;\n      ipcRenderer.send(MainEvent.messageSend,message);\n    });\n  });\n  ipcRenderer.on(MainEvent.receiveMessage,(event,message)=>{\n    console.log(message);\n    const currentRoom = roomArea.RoomList.getCurrentItem();\n    if(!currentRoom){\n      chatArea.NotificationList.createNotification(message);\n      return;\n    }\n    if(currentRoom.id === message.room){\n      console.log(currentRoom.id);\n      console.log(message.room);\n      chatArea.MessageList.loadItem(message)\n        .then(chatArea.MessageList.sortList.bind(chatArea.MessageList, chatArea.MessageList.items.childNodes))\n        .then(chatArea.MessageList.updateList.bind(chatArea.MessageList));\n    }else{\n      chatArea.NotificationList.createNotification(message);\n    }\n\n  });\n  chatArea.MessageInputview.textArea.addEventListener('keydown',chatArea.MessageInputview.keyDownEventHandler.bind(chatArea.MessageInputview));\n  ipcRenderer.on(MainEvent.receiveInviteUser,(event,message)=>{\n    ipcRenderer.send(MainEvent.joinRoomRequest,message);\n    roomArea.RoomList.addItem(message.room);\n    chatArea.NotificationList.createRoomNotification(message);\n  });\n  ipcRenderer.on(MainEvent.joinRoomRequest+successString,(event,message)=>{\n    console.log(message);\n  });\n  ipcRenderer.on(MainEvent.joinRoomRequest+failureString,(event,message)=>{\n    console.log(message);\n  });\n})();"]}