{"version":3,"sources":["../../webScripts/RoomList.js"],"names":["RoomList","document","Error","MessageItemFactory","require","items","getElementById","ItemFactory","CurrentItem","undefined","PreviousItem","eventListener","prototype","addItem","room","roomitem","createRoomItem","appendChild","Promise","resolve","removeItem","childNodes","result","Array","some","call","element","id","removeChild","setSelectListener","listener","removeEventListener","addEventListener","setCurrentItem","item","tagName","classList","toggle","FailureClearItem","_id","getCurrentItem","clearCurrentItem","module","exports"],"mappings":"AAAA;;;;;AAKA;;AAEA,SAASA,QAAT,CAAkBC,QAAlB,EAA4B;AAC1B,MAAI,EAAE,gBAAgBD,QAAlB,CAAJ,EAAiC;AAC/B,UAAM,IAAIE,KAAJ,CAAU,kCAAV,CAAN;AACD;AACD,MAAIC,qBAAqBC,QAAQ,sBAAR,CAAzB;AACA,OAAKC,KAAL,GAAaJ,SAASK,cAAT,CAAwB,UAAxB,CAAb;AACA,OAAKC,WAAL,GAAmB,IAAIJ,kBAAJ,CAAuBF,QAAvB,CAAnB;AACA,OAAKO,WAAL,GAAmBC,SAAnB;AACA,OAAKC,YAAL,GAAoBD,SAApB;AACA,OAAKE,aAAL,GAAqBF,SAArB;AACD;;AAEDT,SAASY,SAAT,CAAmBC,OAAnB,GAA6B,UAAUC,IAAV,EAAgB;AAC3C,MAAIC,WAAW,KAAKR,WAAL,CAAiBS,cAAjB,CAAgCF,IAAhC,CAAf;AACA,OAAKT,KAAL,CAAWY,WAAX,CAAuBF,QAAvB;AACA,SAAOG,QAAQC,OAAR,CAAgBJ,QAAhB,CAAP;AACD,CAJD;;AAMAf,SAASY,SAAT,CAAmBQ,UAAnB,GAAgC,UAAUN,IAAV,EAAgB;AAC9C,MAAIT,QAAQ,KAAKA,KAAjB;AACA,MAAIL,WAAW,KAAKK,KAAL,CAAWgB,UAA1B;AACA,MAAIC,SAASC,MAAMX,SAAN,CAAgBY,IAAhB,CAAqBC,IAArB,CAA0BzB,QAA1B,EAAoC,UAAU0B,OAAV,EAAmB;AAClE,QAAIA,QAAQC,EAAR,KAAeb,KAAKa,EAAxB,EAA4B;AAC1BtB,YAAMuB,WAAN,CAAkBF,OAAlB;AACA,aAAO,IAAP;AACD;AACD,WAAO,KAAP;AACD,GANY,CAAb;AAOA,SAAOJ,MAAP;AACD,CAXD;AAYAtB,SAASY,SAAT,CAAmBiB,iBAAnB,GAAuC,UAAUC,QAAV,EAAoB;AACzD,MAAI,KAAKnB,aAAT,EAAwB;AACtB,SAAKN,KAAL,CAAW0B,mBAAX,CAA+B,OAA/B,EAAwC,KAAKpB,aAA7C;AACD;AACD,OAAKA,aAAL,GAAqBmB,QAArB;AACA,OAAKzB,KAAL,CAAW2B,gBAAX,CAA4B,OAA5B,EAAqC,KAAKrB,aAA1C;AACD,CAND;AAOAX,SAASY,SAAT,CAAmBqB,cAAnB,GAAoC,UAAUC,IAAV,EAAgB;AAClD,MAAIA,KAAKC,OAAL,KAAiB,IAArB,EAA2B,OAAO,KAAP;;AAE3B,MAAI,KAAK3B,WAAT,EAAsB;AACpB,QAAI,KAAKA,WAAL,KAAqB0B,IAAzB,EAA+B;AAC7B,aAAO,KAAP;AACD;AACD,SAAK1B,WAAL,CAAiB4B,SAAjB,CAA2BC,MAA3B,CAAkC,UAAlC;AACD;AACD,OAAK3B,YAAL,GAAoB,KAAKF,WAAzB;AACA,OAAKA,WAAL,GAAmB0B,IAAnB;AACA,OAAK1B,WAAL,CAAiB4B,SAAjB,CAA2BC,MAA3B,CAAkC,UAAlC;AACA,SAAO,IAAP;AACD,CAbD;AAcArC,SAASY,SAAT,CAAmB0B,gBAAnB,GAAsC,UAAUC,GAAV,EAAe;AACnD,MAAIL,OAAO,KAAKM,cAAL,EAAX;AACAN,OAAKE,SAAL,CAAeC,MAAf,CAAsB,UAAtB;AACA,OAAKI,gBAAL;AACD,CAJD;AAKAzC,SAASY,SAAT,CAAmB6B,gBAAnB,GAAsC,YAAY;AAChD,OAAKjC,WAAL,GAAmBC,SAAnB;AACD,CAFD;AAGAT,SAASY,SAAT,CAAmB4B,cAAnB,GAAoC,YAAY;AAC9C,SAAO,KAAKhC,WAAZ;AACD,CAFD;;AAIAkC,OAAOC,OAAP,GAAiB3C,QAAjB;AACA","file":"RoomList.js","sourcesContent":["/**\n * Created by kishe56@gmail.com on 2018. 9. 17.\n * Blog : https://kishe89.github.io\n * Github : https://github.com/kishe89\n */\n'use strict';\n\nfunction RoomList(document) {\n  if (!(this instanceof RoomList)) {\n    throw new Error('must be created with new keyword');\n  }\n  var MessageItemFactory = require('./MessageItemFactory');\n  this.items = document.getElementById('roomList');\n  this.ItemFactory = new MessageItemFactory(document);\n  this.CurrentItem = undefined;\n  this.PreviousItem = undefined;\n  this.eventListener = undefined;\n}\n\nRoomList.prototype.addItem = function (room) {\n  var roomitem = this.ItemFactory.createRoomItem(room);\n  this.items.appendChild(roomitem);\n  return Promise.resolve(roomitem);\n};\n\nRoomList.prototype.removeItem = function (room) {\n  var items = this.items;\n  var RoomList = this.items.childNodes;\n  var result = Array.prototype.some.call(RoomList, function (element) {\n    if (element.id === room.id) {\n      items.removeChild(element);\n      return true;\n    }\n    return false;\n  });\n  return result;\n};\nRoomList.prototype.setSelectListener = function (listener) {\n  if (this.eventListener) {\n    this.items.removeEventListener('click', this.eventListener);\n  }\n  this.eventListener = listener;\n  this.items.addEventListener('click', this.eventListener);\n};\nRoomList.prototype.setCurrentItem = function (item) {\n  if (item.tagName !== 'LI') return false;\n\n  if (this.CurrentItem) {\n    if (this.CurrentItem === item) {\n      return false;\n    }\n    this.CurrentItem.classList.toggle('selected');\n  }\n  this.PreviousItem = this.CurrentItem;\n  this.CurrentItem = item;\n  this.CurrentItem.classList.toggle('selected');\n  return true;\n};\nRoomList.prototype.FailureClearItem = function (_id) {\n  var item = this.getCurrentItem();\n  item.classList.toggle('selected');\n  this.clearCurrentItem();\n};\nRoomList.prototype.clearCurrentItem = function () {\n  this.CurrentItem = undefined;\n};\nRoomList.prototype.getCurrentItem = function () {\n  return this.CurrentItem;\n};\n\nmodule.exports = RoomList;\n//# sourceMappingURL=RoomList.js.map"]}